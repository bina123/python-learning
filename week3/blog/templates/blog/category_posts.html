<!-- blog/templates/blog/category_posts.html -->
{% extends 'base.html' %}

{% block title %}{{ category.name }} - My Blog{% endblock %}

{% block content %}
<h1>Category: {{ category.name }}</h1>

{% if posts %}
<p>{{ posts.count }} post{{ posts.count|pluralize }} in this category</p>

{% for post in posts %}
<div class="card">
    <h2>
        <a href="{% url 'blog:post_detail' post.slug %}" style="color: inherit; text-decoration: none;">
            {{ post.title }}
        </a>
    </h2>

    <div class="meta">
        {{ post.created_at|date:"F d, Y" }} | {{ post.views }} views
    </div>

    <p>{{ post.excerpt }}</p>

    <a href="{% url 'blog:post_detail' post.slug %}" class="btn">Read More</a>
</div>
{% endfor %}
{% else %}
<div class="card">
    <p>No posts in this category yet.</p>
</div>
{% endif %}

<div style="margin-top: 2rem;">
    <a href="{% url 'blog:post_list' %}" class="btn">‚Üê View All Posts</a>
</div>
{% endblock %}