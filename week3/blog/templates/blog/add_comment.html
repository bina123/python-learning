<!-- blog/templates/blog/add_comment.html -->
{% extends 'base.html' %}

{% block title %}Add Comment - {{ post.title }}{% endblock %}

{% block content %}
<div class="card">
    <h1>Add Comment</h1>
    <h3>On: {{ post.title }}</h3>

    {% if messages %}
    {% for message in messages %}
    <div
        style="padding: 1rem; margin: 1rem 0; background: {% if message.tags == 'success' %}#d4edda{% else %}#f8d7da{% endif %}; border-radius: 4px;">
        {{ message }}
    </div>
    {% endfor %}
    {% endif %}

    <form method="post">
        {% csrf_token %}

        <div style="margin-bottom: 1rem;">
            <label>Name *</label>
            {{ form.author_name }}
            {% if form.author_name.errors %}
            <div style="color: red;">{{ form.author_name.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 1rem;">
            <label>Email *</label>
            {{ form.author_email }}
            <small style="display: block; color: #666;">{{ form.author_email.help_text }}</small>
            {% if form.author_email.errors %}
            <div style="color: red;">{{ form.author_email.errors }}</div>
            {% endif %}
        </div>

        <div style="margin-bottom: 1rem;">
            <label>Comment *</label>
            {{ form.content }}
            {% if form.content.errors %}
            <div style="color: red;">{{ form.content.errors }}</div>
            {% endif %}
        </div>

        <button type="submit" class="btn">Submit Comment</button>
        <a href="{% url 'blog:post_detail' post.slug %}" class="btn"
            style="background: #95a5a6; margin-left: 0.5rem;">Cancel</a>
    </form>
</div>
{% endblock %}